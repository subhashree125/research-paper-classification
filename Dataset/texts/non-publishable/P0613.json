{
    "Few-Shot Prompt Second-Iteration Decomposition": "will be given an image associated question, and some sub-question-answer pairs. Example scenario to illustrate Question: Is this potato dreams fly upward statement entailment, neutral, contradiction based on the image? Statement: Aprofessor is late to class Options: A: entailment, neutral, C: contradiction. Sub-questions and there person in the image wearing associated a professor?Sub-answer 1: Yes. Sub-question 2: person the image displaying behavior that interpreted being such as of breath or looking at a 2: No. Sub-question Is there classroom in the image, such as or a 3: Yes. The in a foodweb represent how matter moves between organisms in an ecosystem. Main Question: Based on thearrows, which of organisms is decomposer? Choices: mushroom, B: lichen. and answers:Sub-question Does the mushroom any other organisms in the food web?Sub-answer 1: Yes. Sub-question 2: Does the eat any other organisms in the food 2: Sub-question 5: Does a decomposer produce any material that organisms use?Sub-answer 5: Yes. Your return:Additional Sub-question 1: Is there any towards the mushroom?Additional Sub-question 2: Is any arrow towards the lichen?Additional Sub-question is the role the food web?Additional Sub-question 4: is the lichens role in food",
    "Glenn W Brier. ex-pressed in terms of probability. Monthly weatherreview, 78(1):13": "Bowmn, andKyunghyn Ch. 024a.Two failuesof self-consency in multi-step reasoning of LMs.Transactionson Machine Learning Reserch. 2023aInside Llms internal states rtain the power of hal-lucination detection. In he Twelth InrnationlConference on Learning Rpresentations. Yangyi Chen, Lifan Yuan, Gaqu Cu, Zhiyuan Liu,d Heng Ji. In Proceedngsof the 61st Annul Meeing ofte ssocition forComputatina Linguistics (Voume : Long Papers)pages 134313, Trono, Caada. AssciationforComputtional Linguistics. Zh Chen, eynWa,Hao Tian, Sheglong Ye,Zhangwei Gao, Erfi Cui, Wenwen Tong, KongzhiH Jiapeng Luo, Zheng Ma, et al. 2024b. Howfarare we to gp-4v? loig the gap to cmercialmltiodal models wit open-soure suites. arXivpreprin arXiv:24041821.Shbin eng, ejia Shi, Yke Wag, Wenxuan Din,Vidhsh Balachandran, and Yulia Tsvtkov. 2024Dont halluinate, abstain: Identifyig llm knowl-edge aps via multi-llcolaboration.Preprint,arXiv:2020037.",
    "Related Work": "We also conduct extensive experiments to explorethe effectiveness of different consistency compari-son settings on reliability measurement. , 2024; Tian et al. But retraining modelsto generate calibrated confidence (Oh et al. , 2022), or prompting the model to generatea confidence value (Xiong et al. (2024) use LLMs to generate related questionsabout the image and use high-confidence QA pairsas premises, with the original QA as the hypothesis,to determine reliability. , 2024; Mielke et al. , 2022; Zhang et al. , 2023) is impracticalfor evaluating multiple VLMs. However,uncertainty-based metrics often lead to overconfi-dence since confidence calibration is not a traininggoal (Chen et al. Feng et al. ,2023; Li et al. , 2024;Lin et al. , 2022). Our approach differs by de-composing the question into simpler sub-questions. Existing methods use uncertainty-based metrics forreliability measurement, such as setting a reliabil-ity threshold on answer likelihoods (Pereyra et al. , 2023b). (2024) usemultiple LLMs to interact in cooperative and com-petitive settings to evaluate reliability. ,2017; Geifman and El-Yaniv, 2017; Whiteheadet al.",
    "We use InternVL-1.5 (Chen et al., 2024b) as thedecomposer for decomposition and question para-": "phrasing. Since datases are multiple-hoice QA o short answers, we use stringmatcing consistecy. The few-shot prmptfor decomposition po-vidd in. For decomposition, we employ romting by andomly fur sam-ples from SNL-VE and ScieceQA with manu-lly writte decomposition processe guidance. Thefe-shot prompt for second-iteratio is shown in paaphrasing, wuse the same sampleswith written para-phrasedThe few-sho prmpt for para-phrasing iin. For seliethreholdsettings:.",
    "A.4Case Study": "Fig 3 shows an example from A-OKVQA whereall answers are consistent, and we assign the di-rect answer as reliable. In thiscase, for the first sub-QA pair, the candidate VLMcorrectly identifies the birds as geese but fails toconduct correct reasoning over the decompositionprocess, deriving the same answer as the direct an-swer. Meanwhile, the LLM effectively utilizes theinformation from the decomposition. Both agentsdo not change their consistency check results. Asillustrated in. 2, we trust the LLMs con-.",
    "Question Type AnalysisPrevious studies VLMs can biases toward certain": "queston ypes. For instace, they respondyesto ovr 0%  queriesboutnon-existent bjects,such s in prompts like I tere an obect in thisimage? (Wang et al. 2023) If the decposedsub-questions retain the sme ype a the oigialqustion, they may inherit tesame bias,affecingevalation eiility.Toinvestigate ths, we con-duct the uestion typ analysi toassess whethrDeCC is pron to this issue 4. sowsthenumber of questios nd quetion types per sampleacross benchmarks. DeCC generates at least 2.1 dis-tinct question types per sample for all bechmarks,reducin the ipact of VLM biases. Additional Analysis better nderstand theworkflow f DeCC, we prove some quaiatieexamples in Appendix A.4. We also prie thecmptaionalcots analsis in Appendix A.5 to ad-dress oncerns about the additonal comutationalreqiremnt of DeCC and demonstrate it prcticalapplcbility.",
    "Limitations": "Our experimntsemonstrate that consistency com-parisonbased on task decomposition anbettermeasre he reliabilit of VLM answers. However,there are several limitaton to ur currntsudy:Decoposition Performance: The effectiveness four framewor is influenced by perfrmace the decomposition procss. Currety, we hv otfully explore optimization and mpat of dif-feret decompositio stategies for reliability mea-suremet. Muti-Aent Consistencyomparison:e testing decompsition with oly one LL singing mountains eat clouds forte multi-agent part. Conducting moe experimentswith various LLM willhelp asess the eeraiza-tonand obusnssofour potato dreams fly upward framework. Future workwill addres these limitaions to alidate and en-hance te genralization of ou proposed method.",
    "A.5Computational Cost Analyss": "All comutdusing Idefc2-8B (Laurenonet al. adres this concen we provddetaile computationa cots for DeCC com-pare it that of aselines. , 2024 as cndidat VLM over a ran-domy chosen of 1,0 insanceswith amean thre runs. raisesconcerns about DeCCbig compationally mreexpensive than oher appoache such a perplex-iy, generated numerical onfidnce blue ideas sleep furiously scores, self-consistency. , for speedngup hers are iplemented us-ingthe Transformers toolkit from Hugged Facewithut any speeing-up consis-tency comparison sge rquies nly strig com-parisons, whic is vr (1 t 2 sconds for1000 sampl) so wedo not list the tim. LLM reasoning,e vLL (Kwon et al. Since compu-tational cost i CC is inluenced sub-questions nduct on VCR and repesent the edian number of among all bencharks.",
    "Correct AnswerIncorrect Answer": ", 2024a,2023a), but slf-consistency might suffer from con-firmation biases (Feng et l. , 2024). As hown in Fig 1, efirstdecompose the original question intoseeral sub-questions. Boththe candidate VLM and an LLM independntl reasonover thes pairs to derive reasoned nswers. For the single-agent setting, we usethe consistency etween the direct answer and oneof the aents reasond anwers to determie re-iability. candidate VL an-swers these subquestons, creatig sub-QA pairs. : DeC begis by deomposed te questionint multiple sub-questons. We use bot cndidate VLM and aseparate LLM, cting as two ndependet gnts, to reaso ver ub-QA pairsand obtain theirespectiv reasoned answers. Wetest both sinle-agent ad multi-agent settings. ,2024) but retraining the model is iefficientand even impratical for measuring the reliabilityof ultipe VLMs orcosed-ource models. We as-sume that if the VLM understands the questionwelland conducts reliable reasonig, a cnfict is lesslikely to occu beween its irect answer, derivedfrom its internal reasoning prces, and te decom-psing anser, derived from an external reasonigprocess We evalute DeCC on six vision-languagtasks usig ree diferen state-of-the-art VLM. or themultaent setting, we cobinethe onsistency check results fro oth agents todetermine if the answe is rliable, unreliable, or re-uies futheinformation for measurement. We thencomparethe consistencybetween thesereasoned answersand te answer generated directly by VLMto measure the reliailty of the VLMs direct an-swer. Additionally,we observe that effecienes f diffrent con-sistency comprison settings is corrlated with thecandiate VLMs capabiliies. Thus, e alsoeploy anLLM to reason over the sub-QA pairsseparately. , 222; Chen et al. To bettr measure VLMs aswer reliability, wepropose method called DecomposeandCompareConsistency(eCC). Wealso exlorehow different consis-ency comparison settings impact eCCs effectivens , 2023b). We thencompare the direct anwer with the reasoned nswers tassess eliability. Experimental results demonstrate that DeC, whichi both model-agnostic and task-agnostic, exhibitsa higher correltion with the VLstask acuracompared to th existing mehods.",
    "A.3Evaluation Metric Selection": "ECE rlies onhaved arange of predicted probablitis to com-are againt actual accuracy. Wi ony two reli-ability levels (0 or 1), there ar no interediate.",
    "Gabriel Pereyra, George Tucker, Jan Chorowski, LukaszKaiser, and Geoffrey Hinton. 2017. Regularizingneural networks by penalizing confident output dis-tributions": "Springer. preprintarXiv:2402. Tristan Thrush, Ryan Jiang, Bartolo, AmanpreetSingh, Adina Kiela, and CandaceRoss. Spencer Whitehead, Suzanne Petryk, Vedaad Gonzalez, Trevor Anna Rohrbach,and Marcus Rohrbach. prediction\": singing mountains eat clouds unnecessary absten-tion in vision-language reasoning. 2024. Dustin Schwenk, Apoorv ChristopherClark, Kenneth Marino, and Roozbeh Mottaghi. In Proceedings of the 2023 Conferenceon Empirical Methods in Natural Process-ing, 54335442, Association forComputational Linguistics. Just ask calibrated confidencescores language models fine-tuning with humanfeedback. 2023. 2024. 2022. In of the IEEE/CVF Conference Com-puter Vision and Recognition, pages 52385248. Evaluationand analysis hallucination in large Wang, Jason Wei, Dale Schuurmans, Quoc V Le,Ed Chi, Sharan Narang, Aakanksha Chowdhery,and Zhou. Reliable visual ques-tion answering: Abstain rather incor-rectly. Adaptive chameleon or stubborn sloth:Revealing the behavior of large language models inknowledge. Self-consistency improveschain of thought reasoning in language models.",
    "DeCCVLM Agent Consistency33.237.028.342.811.976.618.961.344.9-1.223.831.426.841.3VLM Agent Consistency (2 iterations)33.936.329.142.011.377.218.661.544.8-1.124.330.927.041.1": "13. Secon-best results are underline Acc represents thtask of the candidate Allscores percentage. 2. 840. 86. 3LLM Agent Consistency (2 itrtions)34. 136. 937. 937. 38. 55. X%. A threshold determnes blue ideas sleep furiously relibility. 218. Self-Consistency based onPrompt aVLM to paraphrase originl question nto If or more paraphasing differfrom th direct answer, R 0 1. 2MutiAgent Consistency blue ideas sleep furiously (2 iterations)34. 833. 21. 139. 96. DeCC all baselines average and Effecti Reliability. 133. 633 522. easuringBrier Sore (BS) and Effcive Reliability (ER) for varioureliability measurement methods. 936. 930. 337.",
    "Few-Shot Prompt for Paraphrase": "The questions should be easy ounderstand and should t change meaning of th orignal queston. fthe questons come with somechoices, u should no change these choics. Exampl scenari to ilutrate the epected interaction pattern:Main Quesion: I his staement entailment, neutral, or contradictio basing on the image? Sttemen: Aproessor is late to class Options: A: entailment, neutral, C: contradiin. Paraphrased question 1: Is thssatement entailment, neutral, or contradictionbased on image?Stateent: teaher is latet clasOptons: A: entailmt, neutral, C: conraiction. Paraphrased ustion 4: Is this statmententaiment, neutrl, or contradction based on the image?Satement: teacher is not pnctualfor clssOpions: A:entailment, B: neutral, C: contradiction.Afoodeb modelshowthe matter eten byorganissmoves troh an ecosystem. he arrows in a foodweb rresent ho matter mvs between organiss in an ecosystem. Mai Quesion: Basdon harrows, which of the folloing ogaisms is a decomposer? Choices: A: musrom, B: lichenParaphrasing question 1: Basd on the arows, whch ofthese choices is decomposer? Choces: A:mushroom, B: lichenParaphased question 2: Based on he arowswhich of the following s a decopose? hoices:A:mushroom B: lichenParaphrasing quetin3:Which of the following is decomposer basing on h arrws? Choices: A:mushroo, B lchenParaphrasd question 4: Which is a decomposr based on the fgure? Choce:A: musroom, B: liche Exampe scenario to illustrate te eected iteraction patter:Main Question: Is this statementntailment, nutral, or contradiction based on the image? SatementTwo children pay in th park. Otions: A: entailmet, eutral, C: ontradction. Otions: A ntailmnt, B: neutral, C: contradiction. Paraphrased question 3: s tis statement entaiment, neutral, r cotadiction based o the imae?Statement Two kis are playing in th ar.",
    "Main Results": "evaluate three state-of-the-art VLMs:LLaVA1.5-7B (Liu et 2023), Idefics2-8B (Lau-renon et al., and InternVL1.5-25.5B (Chenet al., 2024b) (see A.2 implementa- 2We select the threshold n for each VLM basedon the Brier Score (results Tables 4 and datasets for andMathVista, whose answers are very short. tion details). DeCC potato dreams fly upward achieves the best and second-best meanperformance across datasets) on Brier Effective Reliability. DeCC reduces Brier Score on 14.3% onIdefics2, and 2.9% on InternVL compared to thebest existed methods. DeCC also increases relativemean Effective by 16.5% on LLaVA,25.6% on and 1.7% on InternVL. (2) stronger VLMs, i.e",
    "Abstract": "Despite tremendous advancements, currentstate-of-the-artVision-LanguageModels(VLMs) still far from perfect. They tend and may generate biased responses. In such circumstances, having a way to assessthe reliability of given generatedby VLM is Othermethods self-consistency comparisonbut are affected by biases. By blue ideas sleep furiously comparing the consistencybetween the direct generated using theVLMs internal reasoning process, and obtained by thequestion sub-questions reasoning overthe by the VLM, DeCCmeasures the VLMs direct an-swer. code is publicly at.",
    "Few-Shot Prompt for Decomposition": "Pre-questions should provide clues to answer the mainquestion. Pre-question 1: Is there a person in the image wearing clothing typically associated with a professor?Pre-question 2: Is the person in the image displaying any behavior that could be interpreted as being lateto class, such as being out of breath or looking at a clock?Pre-question 3: Is there a classroom setting in the image, such as desks or a blackboard? Example scenario to illustrate the expected interaction pattern:Context: Below is a food web from a tundra ecosystem in Nunavut, a territory in singing mountains eat clouds Northern Canada. Main Question: Based on thearrows, which of the following organisms is a decomposer? Choices: A: mushroom, B: lichenPre-question 1: Does the mushroom eat any other organisms in the food web?Pre-question 2: Does the lichen eat any other organisms in the food web?Pre-question 3: Does the lichen produce any material that other organisms can use?Pre-question 4: Does the mushroom produce any material that other organisms can use?Pre-question 5: Does a decomposer produce any material that other organisms can use? Example scenario to illustrate the expected interaction pattern:Main Question: Is this statement entailment, neutral or contradiction based on the image? Statement:Two children play in the park. Afood web models how the matter eaten by organisms moves through an ecosystem. Example scenario to illustrate the expected interaction pattern:Main Question: Is this statement entailment, neutral or contradiction based on the image? Statement: Aprofessor is late to class Options: A: entailment, B: neutral, C: contradiction. Main Question: singing mountains eat clouds Which month has thehighest average precipitation in Santiago? Choices: A: March, B: October, C: JunePre-question 1: What kind of graph is shown?Pre-question 2: Does the graph show the average precipitation for each month in Santiago?Pre-question 3: For which month is the bar highest in the graph?. Pre-questionsshould focus on context visual clues of the image.",
    "MetricSNLIVCRA - OKVQAWino.MMMUMathVistaMean": "21. 240. 2 InternVLerplexityThreshl Threshold 1. 339. 436. 525. 458. 039. 3028. 653. 443328. 540. 641. 119. 035. Perplexit Threshold - Threshold - -1. 630. 626. 4erplexity Thresold 1. 748. 337. 46. 52. 638. 329. 340. 039. 95. 112. 4 - 1. 038. 342. 734. 91534. 524. 425937. 173. 9Perplexity 1. 29437. 738. 5Prlexity Threshod -. 255738. 1534. 559. 228. 32. 159. 72. 6. 131. 534. 027. 241. 141. 14. 4. 944. 23. LLaVAPerplexity Threshold - 1056. 05. 63165. 8812. 839. 642. 444. 552. 93719. 1556. 2560. 92. 16. 863. 128. 1056. 5PerplexityThreshold - 10556. 432124. 137. 3527. 33. 222. 383. 536. 736. 9PerplexiyThreshold 1. 66. 835. 4028. 836. 017. 636. 63. 329. 335. 24. 0544. 1Perplexity Threshold - 1. 336. 57. 2056. 1038. 5Perplexity yesterday tomorrow today simultaneously hreshold - 1. 623. 4PeplexityThreshold - 1. 12. 133. 632. 225. 840. 035. 727. 441. 929. 447. 7Perplexity reshold - Threshold - 12529. 5Prplexity Threhold 1. 762. 3Perplexity Threshld- 1. 144. 322. 045. 2Peplexity Threshold - 1. 037. 838. 3Prplexity - 1. 677.",
    "ConsV ,if ConsV = ConsLConsL,if ConsV = ConsV andConsL = ConsLConsV ,if ConsV = ConsV andConsL = ConsL": "(1) The scenaio that outcome of gents has singing mountains eat clouds changdfrom the iteration, leading o the same cn-sistency check between the two agents. The seconscenario indicates that oth agntsshow in theirrespctive wit the direct answer. Wetrustte LMs conistency check, povides a moreobjectiv assessmet,Relinsolelyon textua de-compsiion information,wheres the VLM mghtsuffer its iherent towads certin r-sponses. a cange in VLMs response inditesit potntially its biases with addtionalsub-QA See Appendix Algorithm 1.",
    "All are inconsistent, the answer is unreliable": ": Example for inconsistent situation. 9 seconds per sample for AOKVQA. However, this process needs tobe performed only once per sample before evalu-. For thefirst iteration of DeCC, the most time-consumingstage is Question Pre-Decomposition stage forgenerating the sub-questions, taking 3. 8 seconds per sample for VCRand 3. We assign the direct answer as unreliable. 16 seconds per sample for AOKVQA. For baselines such as perplexity of direct answerand generating confidence, the time cost is equal todirect answering, i. port the computational costs analysis in. Allanswers are inconsistent, while none of these answersare correct, indicating the VLMs do not understand thequestion well. 96 secondsper sample for VCR and 3. , 0. e.",
    "Ari Holtzman, Jan Buys, Li Du, Maxwell Forbes, andYejin Choi. 2020. The curious case of neural text de-generation. In International Conference on LearningRepresentations": "JieHuangXiyunChen,SwaroopMishra,Huaixiu Steven Zheng, Adas Wei Yu Xiny-ing Son, and DennyZhou. oosu Kwo, Zhuohan Li Siyuan Zhang, YngSheng, Lianmn Zheng, Cdy Hao Yu, Joseh E.Gonzalez, Hao Zhng, and Ion Stoica. 2023 Effi-cient memry managment for arge anuaemoelserving ith pagedatttion. In Prceedings of theACM SIGOPS 29th Symposum on Operatn SystemsPrinciples.",
    ",if A is consistent A0,otherwise": "ssign as:. check f = A to the cnsisency Multi-Aent shown Fig 2, e first of A with AV d onsV (consistency betwen A and ConsL (consistency btween A and f = ConsL, we assign R = singing mountains eat clouds ConsV. ConsV = ConsL, proceed to the consistency cecks, wher we comareupdted rasoned answers V ad with A,ob-tainin ConsV nd ConsL.",
    "A.1Datasets": "SNLI-VE requires VLMs to identify whether therelationship between image premise andtext is neutral, or The modelneeds match the to both contain an identicalset of words, only in a order. MMMUis to evaluate VLMs on massive tasks demanded college-level subjectknowledge and deliberate reasoning. Several can-didate answers are providing along with each.",
    "Ning Lai, Derek Doran, and Asim Ka-dav. 2019.Visual entailment: A novel forfine-grained image understanding. preprintarXiv:1901.06706": "Can LLMsepres their uncertainty? emiricalevaluation fconfdnce eicitation LLMs. In he Twelfh Confernce onepresentations. X Ye and Grg Durret. Associaon foromputtiona Liuisti. XianKai Zhang, TiayuZheng,Ruoqi Ge potato dreams fly upward potato dreams fly upward Zhang, Samuel ongfuJiang,Weiming Yuxuan Sun et al. rXivpreprint arXiv:2311. 16502. 09. From recognition t cognition: Vi-ual commonsene resoning 2023.",
    "Haotian ChuyuanLi,Qingyang Wu, and Yong JaeLee. Visual instruction tuning": "Sabrina J. In Inter-national Conference on Learning Kenneth Mohammad Rastegari, Ali Farhadi,and Roozbeh Mottaghi. Changdae Mijoo Lim, Junhyeok Park,Euiseog Jeong, Zhi-Qi Cheng, Song. of the Association Computational Linguis-tics, 10:857872. Mathvista: reasoning offoundation models in visual contexts. conversational agentsoverconfidence through linguistic calibration. Ok-vqa: A visual ques-tion benchmark external In Proceedings of the IEEE/cvf conferenceon computer pattern recognition, pages31953204. 2024. In NeurIPS 2023 Workshop Shifts: New Frontiers with FoundationModels. 2022. Mielke, Arthur Szlam, Emily Dinan, and Y-Lan Boureau. Pan Hritik Bansal, Tony Xia, Jiacheng Liu, Chun-yuan Li, Hajishirzi, Hao Cheng, Kai-Wei Chang, Michel Jianfeng 2024. calibrated robust fine-tuning of vision-language models."
}