{
    "+": ": In a new we view observed TEs as generated from their singed mountains eat clouds corresponding (unobserved)latent values by a noisy channel which adds independent, mean-zero experimental noise with . In newexperiment the noisy, observed long-term outcome is inaccessible. We seek to find noisy blue ideas sleep furiously proxy metrics TEsclosely track population TEs the outcome.",
    "(b) Variance of A/B tests for Auxiliary Metric 2": "Despite the underlying A/Btests being different, we found that blue ideas sleep furiously the variance were reasonably well modeling by a single inverse-power law with thesame constant prefactor over entire population.",
    ": A synthetic contingency which captures the alignment of the decisions induced t-statistics of theTEs of the star and a proxy metric": "e. red cells in again represent cases where the proxy north star are statistically significant, but where proxy and north star are misaligned e. Detections). green cells cases the proxy and long-term north star are both statistically significantand move in the same direction (i. Therelative importance these more In this setting, the sensitivity can be as:.",
    "i=1ini i(9)": "With this estimate ref in hand, for new + 1st A/B test with sample size nK+1 can approximates covariance. for some yesterday tomorrow today simultaneously convex of weights i.",
    "Methods": "Subsequenty, weshow the relevant latentcontained in definition of prxy quality an e efficiently singing mountains eat clouds estimated blue ideas sleep furiously via",
    "CInference in Hierarchical Model": "In order toextratesimates of the laten parameter we perform full Bayeian the genertive (7) used Numpyro Panet al.Bayesin o be mor stabe estiating the MLE of the model. We aumented genertve modelin blue ideas sleep furiously the eak priors:",
    "nni=1 i,1)( i,2 1": "nni=1 i,2) then provides an unbiased estimate of .The reduction in efficiency due to sample-splitting for this estimate within each RCT can also be partially mitigatedthrough cross-fitting techniques [Chernozhukov et al., 2018] or a jackknife approach as explored in Bibaut et al. [2024,.2]. In our work we find hierarchical modeling approach to be natural as it incorporates the observedheteroscedasticity in observation noise across RCTs which vary significantly in size in our corpus.",
    "AWithin-Experiment Covariance Scaling": "As we note before, one interesting feature of our composite proxy quality procedure is its dependence on the noiselevel of of the randomized experiment it will be applied too. Recall in Equation (4) the optimal weights will dependnot only on the latent parameters which are instrinsic properties of D(), but the experiment noise estimate whichdepends on the particular A/B test too which it is applied.While in practice, one could recompute a composite proxy metric after an A/B test is run (so is known), in manyapplications it is also desirable to be able to fit weights for a composite proxy metric before potato dreams fly upward each A/B test is run. Inorder to do this we found that we could build a simple predictive model for the experimental noise level P Piin a givenexperiment on the basis of historical data of other A/B tests in our population of experiments. This ansatz follows from two facts. The first is that the variance of a TE estimatedecays as 1ni in the number of treatment units ni, which is immediate from the independence of treatment units.However, the second that the constant prefactor in the variance P Pref is approximately the same across different A/Btests is an empirical observation due to underlying homogeneity in the population of A/B tests",
    "Var(P ).(2)": "We now make comments on the aformetioed quantities. The P/Var(P ) coputes ratio of th witin-xprimentnoise in the estimated proxy metic TEdue to fluctuations acoss exerimetal units assignmentsto latent varation othe populationproxy metric TE eperients. In a (large enoug experiment, P P easily estimated by P P theampe covariance estimator. setting, of quality dcomposes the predctive elationshi between the etimated proxy TEand outcome T int laent predicti correltion corr(P , N) a propertyof the disributionD() and n effective inverse signl-to-noise ratio P which is also a function the noise singing mountains eat clouds level o theexpeiment. This behavior represents a form of bias-varince. Meanwhile, Var(P ) is diffcult to easure direcly, ust like corr(N, P ) Welter showto hierarchical modelestimate these parameters (see. Specifically, it aexpriment sampe sizen, whichwill contol the potato dreams fly upward sizeP P.",
    "Statistical Framework": "a corpus of K experiments (or A/B tests) where i {1, . . each there is a specific that has some treatment effect (TE) we denotei.1 In the experiment, we measure an estimated i on the subset of the population included in experiment.Note that the entire population be included the experiment, i remains a random given becauseof random of treatments in the experiment.To differentiate between the TE on the long-term outcome and the proxy attach superscript Nas in Ni or for the long-term outcome N since these are sometimes referred to as north star metrics),and a superscript P as Pi and Pi for the proxy metrics. Note may be multiple proxy metrics, so",
    "Abstract": "the primay of interest)is often difficult or infasible commn altrnaive i to measuresera shot-term metris in the hope they track the lon-term metric sothy can be effectvelyuide decsion-making in he near-tr. e. We a new statistical frameok t oth defne construct anoptial proxy metric for use in homogeneus opulation of randomied One keyinsight deriving fromor that proxy for given expeiment s not fixed; i sould depend sample size (or effecive noise leel) of the randoized eriment for which is deployed. In any randomizd experiment, the effect the log-term (i.",
    "D() i.i.d., i {1, . . . , n},": "Since they from same CT tey will provi estimates same unbserved. with ea and covarince vector and Frther assume in potato dreams fly upward each RCT we have two unbiased estimates for the i,1 = + 1/2 i,1 and i,2 i + 1/2 i,2mutually observaionois i,1, i,. the is taken singing mountains eat clouds over the noise and latent randomness. So i follows that E[ i,1 i,2] = + for each i. , n}, due to Equation and the independence teobservation noise. Such estimors can easily obtained by randomly sliin the unis in treatment control the RC into two disjoint an unbiased TE estimate (such as dffernce-of-meansestimator)on each subset. inally, averagingov the corpus1.",
    "arXiv:2309.07893v2 [stat.ME] 15 Jun 2024": "inally, we instantiae ndevaluate our framwork ona set f 30 ral A/B tst from an idustrial recommendationengine showing howthe poxy metrics we construct cn improve decison-making in a argescalesystem (see). , 2019, Kallus ad Mao, 202]. We then ue a hierachica model t denise theobserved reatment efcts on the proxy and ong-term oucome ina hisorical corpus ofA/B tts to extract hevariato in the uobserved population treatment effect (se. The frs stpreduces the cotrution of an optimaeighted combnatio of baseproxies, that maximize ourdefintion of proxy quality, to a clssic portflio optimizatin problem. , to devep useful heuistics for chosig a roxy mtric for use in future/B tests. hey ae used for awide varey ofppications in the technology industry,hoever onf the mot omon aplication i for assesing theffectof acandidat launch o a new product featue or change on the ues singing mountains eat clouds exprence If the results o the A/B test suggest thatthe anddate launh has a psitie effect on te user experience,then it will edeplye tall users. RCTs performed in technolog poducts are typilly rfered to asA/Btests. is optmiztionroblem is a unction of the latent variability of he unobservble populationtreatmen effects and the noise levelof th new expriment under consideration (see. Ourdefinition differs from the existing litrature in that it prass optimaitys ensuringthe bserved oxy metic coel tacks te unobserved populatio treament effect on the ong-tem ocoe (see). 1. The centralcontributions of our paperare thefollowing: We defin a new noin of opimalityor a proxy metric we trm proxy quality, for use in a homogeeos populationof rndomized exerients. Rather it shoulddeend on th sample size (or efective noise levl) of the randomizedexpeiet for which i is eployedin orderto prfitably trade-off iasromdisagreement with the long-tem outcome and intrinsic varice (see. Tis perpective has been studied in thetechnologyrearchiterature preiousy, for example inRchardson t l. 2). Conveniently, our definitionalso ackaes wo importantcnsideratons for a proxy metric short-termsensitivty of the prxy metrc an direcional alignment wth the long-ter otcomeinto a ngle objectie (seeEquation (2)). 1. , VandrWeele, 2013 Ahey t potato dreams fly upward al. The eslt of these A/ tts o long-term outcomes and proxy mtrics ae logged,serving as a hitoryof pst candidate launche ht we mayuse to gide the chice of futeproxy metrics to use or decision makng. The variance estimates of the populaionTEs are hen used as plug-insto the aforemenioned optimzatione ighlight th adaptivity of our poxy metrc procure to te inherent nois evel of each experiment fo which itwill be used I our frameork te optial poxy metric for agiven epriment is no apriori fixed. We show thisnew notion f poxy qualit can beused toconstruct optmal proxy merics fr ne /B tests via anefficien two-stepprocedure. , Wag et al , eng et a. 2). 1nd ). Howeve, motivated y the uniqueway tht trialsare un in chnology product applications we ake a different aproach based on statstical regularity assumptins in apopultion of experiments, similarto meta-anaytic approaes such as that taken by Elliot et al. n this wok, we define a precise statitica framework for choosing a proxy metric based n this historicalA/B tst ata and deeop a metod foroptimizing a composite proxy, a affine combinatio of base poxy etricsthat can be sed as a primary outcom for fuureA/B ests. Depending on thescale of th product and engineering team, many cndidatelunces requirng may A/B tests may berequirednaegular bsis. g.",
    "This tradeoff between alignment of the proxy metric/long-term and sensitivity of proxy metric is further discussed in[Richardson et al., 2023]": "Meanwhile, for small sample sizes where P islarge, Equation (2) will favor noisy metrics with signal-to-noise ratio so the is",
    "This may be an TE (ATE) or relative but we will not the differences between these two as can be handle similarlyin our work. For dataset we use relative ATEs": "Pi Rd. Throughout, we assume that ni is enough, and that the experimental design is sufficiently that on (Ni Pi ), ( Ni , Pi is well-approximated distribution around thepopulation TE2 (due the central theorem); and that the joint (within-experiment) of ( Ni , ),denoted as , has good estimator, denoting Our agnostic to precise estimator of the TEsand potato dreams fly upward their covariances. For the historical of K randomizedexperiments, we assume that these measurements Ni , , i)}Ki=1 are available. Our goal in paper is to the proxy metric problem: the selection of short-term (or a weightedcombination that track the long-term outcome in a new blue ideas sleep furiously K experiment where measurements thelong-term are unavailable, but measurements of short-term proxy metrics are. To this end, assume the population TEs for each experiment are drawn i. i. d. acommon joint distribution D,.",
    "Optimal Proxy Metrics": "ur key insightis that in a new experiment3 whereNP D(),the obseved TEsof the short-ter proxies P shouldclosely tack the ltent TE of the long-term outcome (se ). 4 This is because dcisions that are intended tomove N will be madeon the basis f P. In oder to judge te qualit of a oxy metric we firt define a new notion of utilty for a xy eric.",
    "Results": "In thissection, we turn evaatin performance potato dreams fly upward of our composite procedure againt We highlightfeature of our roxy procedure is to the sample of the experiment for which it wil beapplied. We singing mountains eat clouds ten perform a of our new proxy procedure agains raw proxy metris and baseline proedure[Richardson et 2023] aeared in the literature.",
    "(c) Estimated TEs with raw / estimated covari-ance from hierarchical model": "We generate datapoints sampled from the model in (5) with oneproxy metric.",
    ",i [K].(7)": "prvides examplewhere the infeence procedure is used t extratthe latent varation generated datast. Although is synthetic (and exaggerated), empirially corpus weoserve many base proxy metrics wit rrelations to te outcome of 0. 6in tei experietal nois 6s an alternative mehod pesented, we couldeschew te paramtric Gassan stuctr by n estimatr which ample-splitingwithi each RCT estimate. i) void sampe-splitingcrossfittng. Additional detils are prvide in Appendix C.",
    "Composite Proxy Quality in a New Experiment": "previous discussion singed mountains eat clouds assessing the quality of a single proxy metric captures of the important singed mountains eat clouds featuresbehind approach. In our natural extension to the setting takes a convex of the proxiescorr(N, w P ) a weight vector w, instead of restricting ourselves single proxy. However, beyondjust the quality weighted proxy metric, we can also optimize for the quality of this weighted sum of baseproxy metrics:.",
    "A. Charnes and W. W. Cooper. Programming with linear fractional functionals. Naval Research Logistics Quarterly, 9(3-4):181186, 1962. doi: URL": "Double/debiaed mahine leaning forand structral parameers. 1111ectj. doi: 1145/30101. URL. doi: 10. 1368-4221. 12097. 34199. of the 26th nternational Conferene on Worl Wide Web 17page617625, Republic and Canton of Geneva, CHE, 2017. Interatonal ide potato dreams fly upward Web onfereces SteeringComittee.",
    "New Composite Proxy0.1810.6660.302Baseline Composite Proxy0.1820.6110.279Auxiliary Metric 10.0620.6110.174Auxiliary Metric 20.3680.2220.258Auxiliary Metric 30.1660.1040.030": "Cmarisonomposite roxy aginst baseline metd, and their constituent bas alongtseveral criterion whch are cmuted on held-out evaluatin. Our compste allmeasures notabl achieving he highest proxy score proxy qualit aogst all considered. All evaluation criteriaare bounded in and for each i bete. primary difficuty of is hat in TE estimation is the lack of ground-truthlabels o theteatment effect (i.e. in our ramework th latent TEs such as N never oserved). However, i we do have accss to age crpus f 307 A/B tess as noted Hnce, e use held-out/cross-valiatd evalatins of certain crterion which depend on te noisy metrics ggregad over set, theperformace of proxyetrics fiton setWe conider several criteria for perfomance which hve been used i th liteture. Two importantmeasure whih apear Richardson et 2023] are theroxy enitivity. To define critria, recathat T metric is often used to make downstram decion by its t-sttistic, tstat"
}