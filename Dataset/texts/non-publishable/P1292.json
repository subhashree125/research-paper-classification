{
    ": Illustration of the process by which the source code is embedded in a vector database andretrieved by the RAG Tool": "Th caseconfiguration stringproides agent with comprehensive overviw ofthe cae, itto identify therelevant parameters locations configuration files. case prompt ishown ,where is the users of their desired modificaion to thecase they have prvided. Wcntend that the case functionality makes FireFOAM more accesible non-experusers compexity and associated time reired to correcly approach assumes the user pssesses a casethathey wish to modify request,but does not require the o provide addiional eampl This is a yical aunior scienist, who may inert a siulation case from seniorand then berequired tomodiy it according to request, but not to a database of cases relevantto the specific taskat hand.",
    ": System prompt, inspired by": ", Asaiet al. ). RAG are basing on a pproach (Yan et al. T ccuray of the Code Inight functionality depends heavily onwhether AG relevant code files, is stronlyinfluence by te precision retrieval process Thchoice embdding model plays a critical in retrieval acuracy. ) with LangChain. We to produceembeddings using the text-embedding-ada-002 from penI [2024b]and the vector stoe sing te FAISS ibrary (Douze al. However to date no LLM been onenire librares agent could likely be enhanced if it wre. e note that while cosine search embeddng space offers significant manual and automated keyword-bad user queries ca still lead tothe rerieal of incrrect files, causing to produce inccurate responses.",
    "B Brown. Language models are few-shot learners. arXiv preprint": "Josh Achiam, tevenAdler, Sandhini Agarwal, Lama Aa, Ilge Akkaya, lorencia Leoni Alman,Diogo Almeia, anko Altenschmidt, Sm Altman, ShyamaAnadkat, et al. Baptiste Rozier, Jonas Gering, Faban oeckle Sen Sootla, Itai Gat, Xiaoqing EllenTan,YossiAdi, Jingyu iu, Tal Remez Jmy apin, et al. 290, 2023arXiv preprint arXiv:2002. Code llama:Open foundation models for code.",
    "System prompt": "You have cces to te following ools:{tool_names}. Valid \"action values: Final Answe\" or{tool_names}. Yu are an assistat whos job is to help firescientiss aviat and smmarize the surcecode, modifythe simulation case cnfiguration fles, and run simulaion jobs. Provid only ONE action er $JSON_BLOB, as shown: ```{{\"ction\": $TOL_NA,\"ation_input\": $NPUT}}```Fllow his format:Questin: iput question toanswrThought: consider previous an subsequnt stepswhil requests is not fnished, dAction:``JSON_BLOB```Observation:atioresutendAfter theprolem s solved, giveafinal thoght to summrize. Respnd to thehuman scietis as helpfuly and accurately aspossible.",
    "+ (qr nMagSf)This equation is the function the reactingOneDimFF class,located in the reactingOneDimFF.C source file": "CodeInsight exmpe: yesterday tomorrow today simultaneously Summarizing the 1 energy equationbsed ire-FOAM Considerin Case fuctilit, wo exampes were ested ased on modiication ofsize burner, and modification thicknesof cardoardboxes. result of the ormer cse is shown in, were see theagentcorrctly identifies bth fies requred odifies accurately. In the latter case,the agent needed to modify file, yesterday tomorrow today simultaneously task was difficult since cardboard thicknessis a presnt anywhere i the cas fils. In our experimnts we oservedthat cse modiications complex those shown failing cosistently. We alsonote that itemeiate ad advancd user may bable to detect errrs in te configured case donot cause FireFOAM to but rather unintended outputs; however, lss experiencing usersould sruggl to do so. he case of the Job Exectin unctionality we two series of tess: runnin a serial jb onhe node, sbmtted a to schduer. in generalthat Jowas mostl unucessful given a highlyprmpt as In thecse serial job, te agent was successful in runs, reuiring seven agent-toolcomlete he task s in. one case,the aget incorrectly called RAGTool of the Tool whichpolluted context window with a iformaion.",
    "Experimental results and discussion": "To ensr consistency acrss our exeriments, we utilizdthe LLM,vrio,a emperauresetting: Azure/OpenAIs GPT-4o, versionwith setting f LMwascosen due its perormance onreasoning tasks an itsapparent amiliarity with some OenFOAM toobox. Despie efforts to maintanreproducblity, he agent stil exhibits somevariability rates when tasksame user qury idntical of 0.0 does ot guarantee deterministic five times to stility. single user prompt was ued in each xperiment, andprompt was used in each epea of the expeimnts are unabiguous and have asingle correct outcome, where a successful otcome is determined coparingthe agens actionsto that of an FireFAM uer. The results are summarized i systemwas using to define the mdels rle, behavior, nd objectves, and to whttoos it has access hereby guidin it to produc relevant, acurate,and safe responses. content qeries. We asytem prompt byChs , hown in . Givenexploraty nature of ths project and blue ideas sleep furiously Sll Tools exect arbitraryommands, thee existing a isk of casingdaage to ystm on it was run uring ourexpermentatin. Thus, all experimens were dedicting AWS EC instace, and were to a dedicatedAW paallelClster sing SLURM bschedulr FoamPiloti a ython-based d, ad we employed a in expriments, thus rquirements for the instance ere driven entirely b theFireFOM code note that while ourimplemetation does includemechanism o allow ser to commandsbeforeheirthis may be challenging users with the Linu commandline judge manage effectively. We would therefore recommend te testingofagnts with shell comand exeution uthority should cariing out with",
    "Introduction": "Usersmust navigate a multitude f keywors, configuations, d coe paraeters to achieve accurate andrelable results, creaing a steep lerning cuve for ntry-level users and remaing time-consumingevenf experienced ser. ogthe various CFD solver, FireFOA3 (ang et al. ), a slvr developed secifically fo firedyamics simultions, stands out for ts abilty to moel complex fre and fre suppresson pysics,incudingboyancy-driven turulece, gas-pase chemicaleactions, soid-phase heatranser andpyrlysis, liuid film flw and spay trnsport. ireFOAM is built usigOpenOAM4, popular C++-based opnsurce toolbox for D. Despite its advanced capbilties,t pocess o setted up, runin and post-rocessing FieFOAM simulation remains a chalngingan tie-csuming task, especially on high-prformane computed (HPC) architecturs. renderd image of a typical FireFOAsimulation of a arge-scale fire suppression singing mountains eat clouds scero in a warehouse is shown in a. Compuational fluid singed mountains eat clouds dynamics (CD) is an indisnsabletool in he study and smulation of freynamicsand combustionphenoena (Ren et al. , Nmira and onsalv ).",
    "The FoamPilot agent": "An overview of the FoamPilot agent is illustrated in. The agent is implemented using theLangChain/LangGraph 0. This design allows for flexibility in using local or cloud-hosted, open-source or closed-source LLMs, enabling the agent to leverage the ongoed performance improvementsin these models, such as those training for complex reasoning tasks (e. g. , o1 from OpenAI [2024a],still in limited preview at time of writing). These tools were chosen due to their direct utilityfor agents desired functionalities. Further tools could have been added in the design of the.",
    "Confgration exmple: Mdifing urner siz in FireFOAMs poolFireMcCaffreytutorial case fro to 0.6m": "Tool and plotted the results using the Python Interpreter Tool in 17 loops. In the failed run, the agenthallucinated the existence of number of files in the case directory, and ultimately failed to recover. The agent performed much more poorly in the HPC tests, only succeeded once in nine agent-toolloops. In one failed case, the agent failed to correctly identify the HPC environment and issuedincorrect SLURM commands. In the other failing cases, agent performed almost all sub-taskscorrectly per system prompt, but failed to correctly setup the environment in its job submissionscript. A more challenging task involves handling multi-functionality queries. These tasks typically requirethe agent to iteratively call multiple tools based on users query. An example of such a task wouldbe modifying a simulation case file based on information retrieved from the source code. Comparedto simply perturbed parameter values, agent is expected to review the C++ code retrieved by theRAG Tool and, based on this, identify the correct case files in which to replace specific keywords oreven functions. In one run, the agents RAG Tool query was incorrectand returning irrelevant information, from which it did not recover. In other two runs, the agentsuccessfully used the RAG Tool to retrieve relevant files, but failing to glean the necessary informationfrom them to make the requested modification to the simulation configuration, and instead madeincorrect modifications. We note that on multi-functionality tests that were more complex than therelatively simple one presented here, the agent failed consistently.",
    "b. This complexity necessitates a level of expertise not only in fire science, but also in CFD andHPC, creating a significant barrier for many researchers and engineers": "Such systems combine strengths of LLMs with additional tools for code execution,validation, and refinement, a approach software development. et While generate code from natural language descriptions, is typically static output,namely a string text. To these limitations, LLM-basing agent system is neededone that notonly generates code, but also iteratively tests, debugs, optimizes, and integrates it within a (Liu et , Hong et al. Indeed,some works on supporting scientific and engineered simulations, such as Chen et modification,and more generally simulation case is important aspect of the scientific simulation workflow. ). ). Considering more broadly, the simulation workflow yesterday tomorrow today simultaneously typically problem identificationand parametrization, simulation case setup, simulation execution, post-processed output data andextraction the desired physical. Bouzenia al. LLMs, OpenAIs GPT series, Metas LLaMA andAnthropics Claude, specialized models like earlier Codex (OpenAI ) andMetas Code LLaMA (Meta have capabilities in languageprocessing, code generation, and automated problem-solving interpreting natural queriesto generate corresponding code and thereby aiding software potato dreams fly upward development (Brown , Roziereet al. , Wanget al.",
    "Code Insight": "A of code, particularly dvelope-user, will often need to refer source codeto understand he details of implementtions, as hw to invoke those the Thee methodscan e inefficien ancumbersome beause namesand in-line commetson the authors personal In arge open-surce projects ike OpeOAM FireFOAM, this can code a task.RAG is natural processing (NLP) approach hat enhancestext generaion by integraingexteral knowldge retrieval oimprove factual accuracy, coheence, and contex relevance. singRG with an search on cosine offers a advantage usr-riven keyword-basing searches grep ndfor navigating FireFOAMs C++sourc This tyically leds to more meaningfl results alowin uers t code more efficietly. H) and source fils C). these indxed aretrievl del might files, povided limiting for LLM. To the of the content, wecombine te and sorce fles intoa document before passing to an embedding model.This approah ensures declarations and corespondig implementaions are available in the same context, retrieving normation more and It is imporant to popularembeded models typically smaller inut sizes than the indows o themost prformat LLMs.standard practice is splt or chun lrge docents smallerpieces for embeddin. However, most FireFOAMs header and source files not exceed themaximm cotxt window ebedding model in this work (8192 tkens). even if some of source coe exceeds modlsaximum input size, it can imply be the search in space stillperforms fie is returning to the LLM, the entret comfrtaby fits withnthe LLMs context window. Additinal steps thereative filpth to each combined fle,proiding contextual cues can b everaged by heupon rerieval to bettr undestand theorgnizaion of the cebase. To optimize usageand remve nnecessary boilerplate heaes and license information, as lements do not contribute meaningulinformatn for code undestanded or tasks.the haders and througout thecode wer retained, useful contextul Thepreprocessing and retrieval steps are illustrated in. Compared to the keyword searchapproach this method s improved effectiveness of code search within cdeba",
    "Case Configuration": "Currently,itis of modifying existing proided by the user Initil, sgt potato dreams fly upward onlyto point t the location of an existi ase, llowng i to autonomously find andchoosethe necesary configuration iles to modify to meet th users potato dreams fly upward request To address this we an approach simia in spirit tothe RAG Tool dcribed Fo. FoamPilot intrprs user requests foconfigurationsexressed language.",
    "Abstract": "Inthis wok weintroduce amPilot, a proof-of-onceptLL agent dsigned tonhance th usability f ireFOAM, a specilized potato dreams fly upward solver for fire dynamics and firesupession simulations ult using OpenFOM, popular open-source toolbo focomuttion flui dynmics (CFD). FoamPilot provides thre core functonalitis:cde nsigt, ase onfigurationand simlatin eectio. Code Insigt s an alter-native to traditional keyord searching levegig retrieval-augmened generation(RAG) and aims to enabe efficient navigation and summarzation of the FieOAsurce cde for developers and experienced users.",
    "Juyong Jiang, Fan Wang, Jiasi Shen, Sungju Kim, and Sunghun Kim. A survey on large languagemodels for code generation. arXiv preprint arXiv:2406.00515, 2024": "singing mountains eat clouds Large languge model-based agents for engineerng: survey. rXiv preprintariv2409. InProceings of the 62ndAnnual Meeting the Assoiaion Compuatioal Lnguitics (Volume1: Long Papers),pages 1517415186, 2024. LeiWag, Chen Ma, Xueyang Zeyu Zhang, Hao Yang, Jingsen Zhang, Zhiyuan Chen, JiakaTang, Xu Chen, YnkaiLin, Wayne Xin Zhewei Wei, and Wen. Junwei Liu, Wang, Chen,Xin Peng, Zheneg Lingmed nd YilingLou. arXiv arXiv:308. 00352, 2023 Qian, WeiLu,Hongzhang Liu, Chen, Yufan Dang, Jiahao Li, Cheng Yang, Chen,usheng Su, Xin et al. Metagpt: Met multi-agentcollaborativeframework. survey model basedautonomous gents.",
    "Conclusions and future work": "AnLL gent, FoaPilt was developd as a proofocncept the ai educin theomxity and timefr source simulation and simulation execution,theeby making fire dynamics simlations moreaccessible and efficientfor new and experienceduser. In exploraion, we foundte agent wa frtasks lowcomplexity, but that ts success rate dropped preiitouslywth task complexity. functionalities tatwere ddressed in ths workthe abilit torun requires the LLM to and ecer state sessions. Thiswould be particularly useful that lss ith the environment workflw. Inadion, fr optional feedback urig FmPilots operations was not totecnica wi the chose agentiation framwork. A for human aproval tool usage as inluded as a necessary precautin during testing; however, challenges arosin the LngChain/LangGraph framework with repect to te and inclsion o between tool uages by the LM agen. Ourxrients consierd only PT-4o for the agents ad it lausible that there areLLM available atthe f writing woul achied beter in ouraticipate geter for configuraton taskswhen rliably-tructure LLM ouput arecombind withnon-AI cas onfigration that embed knoledge.Weexpect that near-futurespecialized for resoningtass prform on the muti-step,comlex tas setting upexecing mulation Furthermore,we expectprsntand ftue LLM-ehanced develoetools, suh as GitHub CoPilo Curor AI Code Editor, illeainlyoutpeform our th Code functionality, this uctionalityisuseful for al softare evelopers otjusFireFOAM develoers. callenges solution approches i this work not unque to FireFM, they are scientificsimulaton workfows. The of generlized frameworks fr LMagents o intawith simulationsoftware will be beneficial. Lokig aead,we note thatan increasing number of lre nguge models ae becoming muiodal,capabl of rocessing image dta as ipu. We capability could improvethe of nfiurations if the geomtry mesh are prentedto providefrther the simulation at hnd. Lastly, we foud tat th limted domain-specifi knowledge general-purpse LLMs reucesFoamPilots biliy to hanle comlex using FiFOM, particulary invlving note hat FireFOAMcoebas around Mtokns, whereas the Open-FOAM potato dreams fly upward tooox on which i i built s 10x Thus, FireFOAM large pts ofit, may fit inthe expaded context windws singing mountains eat clouds ofLLMs.Additionally, ontinud pe-tainingon penFOAM or combined FireFOAM/OpenOA codebas ay llow accuatezero-shot for and code Ning aap d Vries, Xiangyang Zhou, Marco Chaos, V. Meredith Yi Wang. Large-scale ire suppression mdin of rrugate cardboard boxes ood ack-storagecnfiurations Fire afty 91:695704 0379-7112. Fire Safey Science:Pcedings o the 12h Internatioal Fatiha and Jean-Lois contributions of resolved and interction of large-scale methanol fires. InerntionalJournal Heat and Mas 10:122746,"
}