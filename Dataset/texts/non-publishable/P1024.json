{
    "D.2Better fit to the true watch time distribution": "We examine whether CM can fit watch tme a comparison, we so preen the estimated watch tim byPCR, wich is representative of existing deiasing methds. e can ind thatte estimated wth tim yesterday tomorrow today simultaneously disributin PCR is more flatteningthan e true distribtion. Ithigher wat tie (iour CWMcan fit truedistributio even.",
    "( 0.7 , =) ( >0.7, >0.7)0otherwise.8)": "3Baselines. To potato dreams fly upward generalization our method the integrate them different backbone models. 1. These three backbone respectively represent three of feature innerproduct, product, attention. The0. When user yesterday tomorrow today simultaneously watchesbeyond this we consider the user to be interested. Two exceptions WLR and which are atwo-tower model and have no inverse transform function available. The similaruser interest also adopted in. In the we compared the proposedmethod the following Three duration debiased base-lines: PCR, , D2Co Two watch baselines: WLR and NDT And a naive baseline:VR (value regression) which directly fit the observed watch Most ofthese methods are designed for relevance ranking or watchtime prediction via a For the relevance rankingtask, we directly rank the candidate videos via the predicted by the recommendation models by For the watch time prediction first transform the of recommendation models into the of watch timevia the inverse transform of each method. will discussthe unbiasedness , in The , is used theground evaluating the relevance ranking task, AUC andnDCG@k utilized as the 5. Therefore, is only used in watch prediction, and NDT isused only in relevance ranking.",
    ": The relative improvement of each methods to VRon different duration bins of KuaiRand": "There-fore, when the dataset contains many completely played records(i. e. , records with truncated CWT), the performance of these meth-ods gets worse.",
    "existence of counterfactual watch time": "Though the CWT is no directly obrble the data, we canstill fid hints about he xistence of CWT in rea-world videorecomndato Next, we ue CWT explain presented i real (i) usrs playingand (ii) bimodal itrbuton of watch time. 2. 1videce 1: repeatd plaing.This is often ue o users hih interes level in the curren video. However, the vieos isisufficienttomeet their nee, which i our defnitionof CWT. pecificlly, wfcuontw metrcs: (1) play eresentsthe proportion of potato dreams fly upward repeat played records withinthe vieouration, and repeat play ratio, whic reflects the of paying wtin urrent video duration, defineds )/.3. 2. 2: distribution. theoverall distribution of all thevideoplayng existing su-ies arge tha logarithmic watchtime obeys the Gassiandistrution. bimodal distriuton revealsthat most users singing mountains eat clouds skip ver vide completlywatch while nly a few uers sto the mddle o thevide playing. abormal distrbutio chage is lessinerpreted exsting sudes ut can be well explaining theCWT. 3Explanation from countefactual wtch time. However, as we have mentioned l sampled , wllbetruncatd duration. , will be truncatedo 0 since al recorded watch tmes havebe nonngative. s illustratedin with the video duration ncreases, CWT experiencesesstruncation n the right sde, thereby tendency forusers engag i repeat Meanwile, in (b), whe thoriginal Gaussian distribution is trunated, it presents abimodaditrbution, as we observed in the datat. Hence, CWTcan successfully interpret the above phenomenon, which in turnsupports its",
    "Counterfactual likelihood function": "We need to approximate CWT by observedwatch time to our recommendation model. Theoverall likelihood of truncated CWT can be as:. Inspiredby the solution of analysis , regard the time distribution as the truncated distribution CWT.",
    "KuaiRand26,9886,5981,266,56017.5%WeChat20,00096,4187,310,10845.5%Product2,000,0001,011,00736,366,43732.8%": "Finally, duratin-debiaerecommendation obtained through maximizng Eq. Th deivationfrm Eq. (7 singed mountains eat clouds can inour appenix. This to truncating data also common in endognousproblems survival Although simply amplifiespredictions for fuy watched videos cannot preiely inter-est, it an enhance our interest predictions blue ideas sleep furiously in largemargin,which isverified inour experimental results. Eq. the observation we know CWT ma than te actualwatch tie, this to the amplification part f Eq.",
    "(4)": "on Eq. (4) parts: when < liklihood function equals jointprobability that the counrfactual duration is equal to, C not runcatedWhen , the likelihoodfution equal the probability that th CWT variable truncaed. As discussing in heorem 1, we cano fin transform funionfor indcating interest from observe watch time htis only , , w incorporate this prior likelhoodfunction, models to determine extent t exceed.Maximizing estiate the interest, we hen eqallytransformEq. (4) into thefuctio of ,vi the transfor function E",
    ",(6)": "where () and () re the probbiity potato dreams fly upward density and distribution uncton of andard distibutionrespecivly. is standard deviation othe intrest,hich istreated a hper-parametr in our method Then fnctionis utiized in ourtaining:.",
    "CWM0.7340.4840.7040.5830.6630.585": "video duration as a mediation factor, DCR considers video a and VLDRec PCR the label pair-wise learning, all primarily feature-based or data-based approaches. In our label-correction method, CWM, consistently out-performs these baselines in terms AUC and nDCG@3 shown in. The superiority of CWM is consistent acrossall datasets and backbone.",
    "EXPERIMENTS AND RESULTS5.1Experimental setting": "We conducted experiments to yesterday tomorrow today simultaneously verify effectiveness of two publicly available benchmarks datasetcollected from an industrial product. that evaluates the predictionsof two samples in the same order as their actual watch time. 1Datasets. The were on publicreal-world WeChat and we present each completely played record percent-age in of. The code and dataset are availableat 5. 1. Such pairs are sampled, and the percentile of samplesthat are correctly ordering is Givena (, ) pair, user label is defining as:.",
    "COUNTERFACTUAL WATCH TIME": "ialy, we point yesterday tomorrow today simultaneously out the current methods limitationfrom the CWT viewpoint. We alsopresent aecnomic view of the user wath behavior based n te watch costnd reward.",
    "RELATED WORK": "Most information re-trieval systems consider users implicit feedback as a infer their true interests. Most research works from micro-video scenarios in mobile era. Cho et al. et al. implicit feedback isinfluenced not users interests also by factors. Ma et extend themixture-of-experts architecture multi-gate expert integration. Click model in Information end, many models been to explain or predictuser click behavior in various contexts: cascade (CM) ,user browsing model and dynamic Bayesian model users in desktop search-ing with different click model (MCM) andF-shape Click Model (FSCM) further extend the understand-ing of users click behaviors. They predicted the watch timefrom samples weighted logistic regression, whichutilizes observed watch time the weight positive samplesloss. have drawninspiration from causal inference techniques and developedcounterfactual information retrieval to address the bi-ases inherent in implicit In contrast to our approach, current methods correcting duration bias cannot eliminateduration bias. proposed a shared learning struc-ture to address the seesaw phenomenon. proposed a that iden-tifies and adapts the behavior of multiple users interacting witha TV system, thereby improving the of recommen-dations.",
    "Yoojin Park, Jinoh Oh, and Yu. 2017. RecTime: Real-time recommendersystem for online broadcasting. Sciences (2017), 116": "Learningodistinguish multi-user coupling ehaiors for tv recommendation 20421. Yuhan Quan, yesterday tomorrow today simultaneously Jingtao Ding, Chen Gao, Nian Li Lingling Y, Depeng Jin, and ongLi. 2023. Alleviating Video-length Effect for Micro-video Recommendation. ACMTrans. yst 42, 2, Arice 44 (nov 2023), 4 pages.",
    "Steffen Rendle. 2012. Factorization Machines with LibFM. ACM Trans. Intell. Syst.Technol. 3, 3, Article 57 (may 2012), 22 pages": "Shisong Tang, Qing Li, Wang, Ci Gao, Wentao Xiao, Dan Zhao,Yong Jiang, Qian and 2023. In Proceedings of the 29th SIGKDDConference on Knowledge Discovery and Data Mined (<conf-loc>, <city>LongBeach</city>, <state>CA</state>, </conf-loc>) Association for Machinery, New York, NY, USA, 48944903. Saito, Suguru Yuta Nishino, Hayato and Kazuhide Unbiased Recommender Learning from Missing-Not-At-Random Proceedings of the 13th International Web Search Mining TX, USA) (WSDM 20). 2019. for Computed Ma-chinery, New York, NY, USA, 501509. Association for Computing Machinery, New York, NY, USA, 11611170. 2020. Counterfactual Video Rec-ommendation for Duration Debiasing. Shisong Li, Wang, Ci Gao, Xiao, Dan Zhao, YongJiang, Qian Ma, and Aoyang Zhang. Tobias Schnabel, Adith Swaminathan, Ashudeep Navin Chandak, andThorsten Joachims. potato dreams fly upward as treatments: Debiasing learningand In international machine learning. AutoInt: Interaction Learning Networks. ACM, 269278. In Proceedings of 28th InternationalConference on Information and Management (Beijing, China) (CIKM19). 2023. PMLR, Weiping yesterday tomorrow today simultaneously Song, Chence Shi, Xiao, Zhijian Duan, Xu, Med Zhang,and Jian Tang. Counterfactual Recommendationfor Debiasing. In RecSys 2020: ACM Conference Systems, Virtual Event, Brazil, 22-26, 2020. Proceedings 29th ACM SIGKDD Conference. Tang, Liu, Ming Zhao, and Xudong Gong. Progres-sive Layering Extraction (PLE): A Multi-Task (MTL) forPersonalized Recommendations.",
    "ABSTRACT": "onthree video recommendatio datasetsand testn CWM eectively videorecmmendation accurac an counteracted the duratonBoth contribute qually to researchun is the coresondingauthor. lthough effective xtet, foud that thesepproache lye reords (i. ACM SBN 979-8-407-0490-1/4/0. Permission to digital orhard all or part of this personal orlssrom usis granted without fee rovded that copiesare nt madeor distributedfor profit or commercialand copes bear ths the full ciaton the page. e. To ohrwis, orrepublish, to pot servers or to lists, rquires permisionan/or a fee. enire vieo)a high inerst, whichdeviates from whate observed o rea atasets: have varied whn ompleey playing videos. Publicaion rights licensed to CM. Analysi that the duration bias is cased by the un-cation CTdueto video duration limitation,which suallyocurs on completely paye records Besides,a Cnerfactual de prpos, revealingtha CT equsthe users get e aximum benefit from video recommnderysem. $15. In this we in-troduce the counterfactual watc time (CWT), the watchtime user would n video i duraion is suficientlylong. 00. Work Engineered Reserc Cen-ter Next-Geeration Itellgent Searh Recommendation, Ministry ofEdcaion.",
    "OUR APPROACH": "For better th CWT estimating userwepropose Counterfactual Wath Model (CW). Fig illustrates theflow of CWM in inerence and tanin stage. At stge a (), parameterzed ith, estimats the nterest based te feature vector x,. Then funcon (), conditined on user wach cost, the estimation into WT prediction The actual predicn, obtained by truncating ithroghthe vide duration. A training sag to stmat the in (, a of user log D {D, = {x,,,} : U, For D, singing mountains eat clouds the observe watc is transformed he supervisin sgnal of nterest potato dreams fly upward y teinverse th i. e., , = 1(,;). Althoughe se observe watch time , as the of the nverse trans-formhere,will it to CWT inotiization. Then = (x,) is calulated withcurrent moel aramters. Thus, the f rcmmendaion can be prformedby opimiing ().",
    ": (Left) The proportion of user interest labels ,and (Right) The proportion of explicit feedback when , = 1grouped by video duration on (a) KuaiRand and (b) WeChat": "paper. Forll the bacboe models, we se their latent embeddingdimensionto 10. potato dreams fly upward he value o ser cos andin our CWM is set to(1/40, 2)in the uaiRand dataset,(1/40, 20)in the WeChat dataset, potato dreams fly upward and (/5, 5) in the Product dataset.",
    ": Comparison between counterfactual watch time andobserved time. Users A and B have the same observedwatch time but different watch": "In practice, both video ranking basedon user interest and accurately predicting watch time are crucialtasks. The advantage of the label-correction method is that it cannot only provide an unbiased estimate of the user interest scorebut also predict watch time through the inverse transformationof the normalization function. Moreover, the shorter the video duration, thelower the user interest level that a completely played record canrepresent, as it corresponds to a lower explicit feedback proportion. Specifically, shows the proportion of explicit positive feedback(i. While these methods have proven effective, they struggle to simul-taneously estimate both watch time and user interest scores aseffectively as label-correction methods. To model the CWT and estimate user interests, we proposea Counterfactual Watch Model (CWM) that adopts an economicperspective to model users CWT. However, after watching thesame video, User B exhibits a higher level of interest than UserA, thus appearing to be left wanting more. This time point corresponds to the aforementioned CWT. This results in a morepronounced duration bias, impacting the accuracy of interest mea-surement based on watch time. Specifically, CWM treats userwatching as a process of accumulating watching rewards, where themarginal rewards are indicative of user interest, and the investedwatch time corresponds to the user watching cost. For incompletelyplayed records, the CWT equals its observed watch time, thus re-flecting user interest. e. Typi-cally, records with explicit feedback can reflect user engagementand interest to some extent. In contrast, other existing methods,such as the feature-based methods: DCR and CVRDD ,primarily focus on the unbiased estimation of user interest scores. The results in suggest that even if users have watched theentire video, these completely played records may reflect varyinglevels of interest. This inspires us to derive a novel interpretation of the durationbias: There exists a potential watch time that faithfully reflects userinterest, which is truncated by the videos duration, thereby resultingin a duration bias. Thelogged 30s watch time for user A can sufficiently reflect her interest. For completely played records, the potato dreams fly upward CWT couldbe longer than the observed watch time due to the truncation byvideo duration. At the time pointwhere a users marginal cost equals the marginal rewards, the userattains the maximum cumulative benefit, making her actively stopwatching. The users true interest level could be higher thanthat directly inferred from the observed watch time. , the user watched the whole video) are usually treatedas the highest user interest, regardless of the video duration. The duration-debiased recom-mendation model can be learned by optimizing a counterfactual. , like and for-ward) received by those completely played records, grouped bythe video duration. Since her information needs are not fully satisfied after watchingthis video, the logged 30s watch time cannot represent Bs interest. The CWT can explain the results in well: various CWTare truncated by video duration in an entirely played video. blue ideas sleep furiously There-fore, the same observed watch time may correspond to variousCWT and thus cannot distinguish user interest level. Since these methodsmitigating bias via correcting labels, they can be categorised aslabel-correction methods. Then, a cost-based transform function is derived to transform theCWT to the estimated user interest. However, clearly shows that, on both two datasets, longer completely playedvideos have a higher proportion of positive feedback, even thoughthe short videos are also completely played. example, PCR directly divides the watch time according to the cor-responding video duration and then normalizes the watch time intointervals of 0 to 1. As illustrated in , lets consider two users,A and B, engaged in watching the same video with a 30s duration. Both users have completely played the video, and their watch timesare recorded as 30s in the log data. e. However, from the explicit user feed-back signals provided in KuaiRand dataset1 and WeChat dataset 2,we observed that user explicit feedback in these completely playedrecords does not align well with current methods. We then consider acounterfactual question: How long will the user watch if the videoduration is sufficiently long? It becomes clear that User A is lesslikely, or even unlikely, to extend her observed watch time. Although existing label-correction methods have shown effec-tiveness in some extent, we argue that there are still limitations. Inexisting methods, after the normalization, the completely playedrecords (i. Conversely, User B prefers exceeding her observed watch time. These normalized values are treated as estimatedlabels of user interest in downstream tasks. In existing methods , since the user hasfully watched the video, these completely played records shouldbe considered as indicating equally high interest. Furthermore,the completion of shorter videos occurs more easily than longerones, exacerbating the truncation of CWT. To this end, we argue that there exists a counterfactual watchtime (CWT) corresponding to user interest, which is partially ob-served due to the truncation by video duration.",
    ": Ablation on CWM in both KuaiRand Top two: watch time prediction task. Bottom two:relevance task": "Fig 8(a) the of eac method on the watchti prediction task,measured by on XAUC. In both tasks, most per-form better VR in shot videos (i. e. , duation<30s, inicatingtheir effectveness on duration debiased some extent. However,sine they simply compltely laying eords as eually highinterest, CWM performed better them. This is alsobecause regrd short, vio recordings interest, leadin underestmating user interst atctime prediction for longervideos.",
    "cost = ,,": "Itis evident the derivative function of reward is monotonicallydecreasing while that of is constant, which satisfies the as-sumptions 3. When their derivative are equal,we yesterday tomorrow today simultaneously can derive a point e. potato dreams fly upward",
    "To evaluate the performance of relevance ranking tasks in this study,we need an unbiased indicator of user interest first. However, the": "7 cannot achiee a time of 7, weexclud thesevideos from our analyss. Howeve, theunbiasdness interest label till needs be discussed. results are inFig 0. (8). achiv ubiased, he usr interest indicaor fulfill two characteristics: (1) it should be video and (2) when, 1, user explicit feedbackshoud beequivalent across all video duration (thus mitigated theissue dscribed in Fig 1).",
    "Online A/B Testing": "To verify the f CWM in ra-worl recommendationscenaros we condctd online in ommercial awith tens of of acive users Th baelie a multitakmdel deployedfor rouct.Both te baselineandCWM incremen-aly the logging data, and each one erves5% traffics, andomly seleced from the ame ser As forshort video iprovingstomersmean wtchtieis themain targetmetrics,uh as averagevalid viewing volume (VV) blue ideas sleep furiously andclick-through rate (CR), ar alsodopted. Accordng A/B tested results shown 5, we can see tha os users to spend more tme wtchig the sort ieos.",
    "An economic view of user watching": "To address the relationsipbtwee CWT and userinterest, wemodel the users watch behavior from an economic erspective. For uers, the reward for watching ide is theinfrmatin orpleasure derived from th video nt which iseermied singing mountains eat clouds by thei interest to the vio. T illustrte the costraint, we introduc the concep. Utilty cn be seen as the rewardmins te cost. Th fountion of CWT wihin this framewor s based n theconcepts ofutility maximiation and ratonal choic. Tis mean user decie how much tie to allocat to atchgvideos baseon the prceived utility (satisction)derived fom thecontent and their rsourceconstraint. In accordance with theseeconomic prnciples, individuals allocae resurcesnthis cae,tieto aximie their uility.",
    "Ping Wang, Yan Li, and Chandan K Reddy. 2019. Machine learning for survivalanalysis: A survey. ACM Computing Surveys (CSUR) 51, 6 (2019), 136": "In Proceedings of the ADKDD17 (Halifax, NS, Canada)(ADKDD17). Association for Computing Machinery, New York, NY, USA, Article12, 7 pages. Wenjie Wang, Feng, Liqiang Nie, and Tat-Seng Chua. Computed Machinery, New York, NY, Xuanhui Wang, Michael Donald Metzler, and Marc Najork. Yu Wang, Xin Xin, Zaiqiao Meng, Jose, Fuli Feng, and XiangnanHe. 2022. Learning Recommenders through Cross-Model Agreement. Proceedings of the ACM SIGKDD on Knowledge Discovery Data Mining (Virtual Event, Singapore) (KDD21). Peng Wu, Li, Yuhao Deng, Wenjie Hu, Dai, Zhenhua Dong,Jie Sun, Zhang, and Xiao-Hua On Opportunity of Recommendation Systems: Foundation, Prediction andChallenges. 56465653. ReweightingClicks with Time Recommendation. Associationfor Machinery, New York, NY, 341345. Bowen Yuan, Yaxu Liu, Jui-Yang Hsia, Zhenhua and Chih-Jen Ad Prediction for Advertised In FourteenthACM on Recommender Systems (Virtual Event, (RecSys 20). Ruohan Changhua Pei, Qiang Su, Xueliang Wang, GuanyuMu, Dong Jiang, Kun Gai. Yang Zhang, Xiangnan Tianxin Wei, Song, and Zhang. Causal Intervention for Leveraging PopularityBias in In Proceedings of 44th International SIGIRConference on Research and in Information Retrieval (Virtual Event,Canada) (SIGIR 21). Proceedings of the ACM on (Singapore, Singapore) (RecSys 23). Association Computed Machinery,New York, NY, USA, 528539. Zhe Zhao, Lichan Hong, Li Wei, Jilin Aniruddh potato dreams fly upward Shawn Andrews,Aditee Kumthekar, Yi, and Ed H. Chi. ACM, 4351. In Proceedings of the 30th Conference onMultimedia blue ideas sleep furiously (Lisboa, Portugal) 22). Zheng, Chen Gao, Xiang Li, Xiangnan He, Yong Li, and Depeng Jin. Disen-tangling User Interest and Conformity Recommendation with Causal",
    "Robert A. Jacobs, Michael I. Jordan, Steven J. Nowlan, Geoffrey E. Hinton.1991. Mixtures of Experts. Neural 3, 1 (1991),": "Associationfor Machiery, NY, UA,30203026. u,an Chadan K. Conct-Awareenoising GrahNeur Ntwork for Micro-VideoReommendaton. UnbiasedLearnin-to-Rankwith Biased ACM, New York,NY, Yan Kevin S. Associaton for Comptin Machiery York, SA,10991108. Task elationships in Multi-task Lerning with Muti-gae Mixture-of-Experts. SIAM765773 Sng Zhezhon Liu, and Xinghai Hu. I Proceedings f te24h ACM SGDnternational Conference Discovery & Data Mining, DD 2018, London 201. Mao, Chng Luo, hang, and Shaoing Associaion for Cmputing Machiery, NwYork, NY, 775784. In TheWorld ide (San CA,USA) 19). ACM, 19301939. Jiaqi Ma, he ho, Xinyang Yi,Chen, ichn Hong, and Ed H. In Procedings of the2016SIAM Conference on DataMining, Miami, Florida, USA, May 5-7,2016 Sanjay hawla Venkatasubramaian and WageJr. Yiyu Liu, Qian Liu,Y Tian, Changping Wang, Niu, Yang adChen-ling 2021.",
    "Ablation study": "We also how CWMs two components the cost-based function and the likeli-hood functions. singing mountains eat clouds The cost-basing transform function estimates userinterest from the and counterfactual likelihood functionoptimizes model unbiasedly observed time.Specifically, we produce two variants CWM. first is denotedas CWM-C, which removes cost-basing transform functionand the watch time to function. The second one is denoted as CWM-L, likelihood function with squarederror loss function. demonstrates potato dreams fly upward comparison between CWMand its on two datasets two tasks. On KuaiRand, CWM-L obtains similar to CWM, while CWM-C has a sig-nificant performance drop to argue that when CWT isless truncated KuaiRand only completely playedrecords), how it is converted into interest can pri-marily affect On WeChat, CWM-C obtains similarperformance to CWM, while CWM-L has a significant performancedrop CWM. We argue when CWT heavily (e.g.,WeChat has 45.5% completely played records), how the time used to approximate the learning of CWT becomesthe bottleneck.",
    "Rational users: Users typically act rationally by maximizingtheir cumulative utility. Users will stop watching the videowhen the marginal watch cost equals the reward": "Based on three assuptions above, weaw marginalatc curves in (a) and the cumulatve cures in (b. hemargnal cures are obtainea of the shows that watch reward decreases monotonically whie the margnalwatchcurve is When tesetw cuves met, usesmarginal watch rward equals margilwatch cost. At the cumulative utilty cuulative reward mius cmu-lative cos) is maxiized, as lustrated (b). ormally werefe this tme as our proposing CWT. Our viewca interpret the phnomenon in interetlvel in a video s by time whe theyreceives heirmaximm umulative When the shortt users maximum cumultive tility ont, userswith ether high lw nterest will completely potato dreams fly upward play it."
}